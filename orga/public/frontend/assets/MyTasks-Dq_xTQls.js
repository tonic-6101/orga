var Pe=Object.defineProperty,De=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var de=(p,c,v)=>c in p?Pe(p,c,{enumerable:!0,configurable:!0,writable:!0,value:v}):p[c]=v,ie=(p,c)=>{for(var v in c||(c={}))Le.call(c,v)&&de(p,v,c[v]);if(ne)for(var v of ne(c))$e.call(c,v)&&de(p,v,c[v]);return p},ue=(p,c)=>De(p,Ue(c));var C=(p,c,v)=>new Promise((Z,h)=>{var J=w=>{try{O(v.next(w))}catch(S){h(S)}},Q=w=>{try{O(v.throw(w))}catch(S){h(S)}},O=w=>w.done?Z(w.value):Promise.resolve(w.value).then(J,Q);O((v=v.apply(p,c)).next())});import{d as Ee,_ as a,w as Y,o as Fe,a as Oe,b as l,c as n,e as r,t as o,u as i,F as j,r as T,n as x,f as F,v as z,g as Ve,h as G,S as Ie,i as L,j as ge,k as Ne,l as ze,m as Re,p as W,q as g,s as H,x as Be,y as ce,z as He,A as Je,B as Qe}from"./main-BV0KycqK.js";import{_ as qe}from"./TaskManager.vue_vue_type_script_setup_true_lang-DHKEKpe3.js";const Ke={class:"flex h-full overflow-hidden"},Xe={class:"flex-1 overflow-auto p-6"},Ye={class:"mb-6"},Ge={class:"text-h1 text-gray-800 dark:text-gray-100 m-0"},We={class:"text-body text-gray-600 dark:text-gray-400 mt-1"},Ze={class:"flex items-center gap-1 mb-4 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg w-fit"},et=["onClick"],tt={class:"flex flex-wrap items-center gap-3 mb-6"},at=["value"],rt=["value"],st={value:""},ot=["value"],lt={value:""},nt=["value"],dt={class:"relative flex-1 min-w-[200px] max-w-sm"},it=["placeholder"],ut=["value"],gt=["title"],ct={class:"text-sm text-gray-500 dark:text-gray-400 ml-auto"},vt={key:0},yt={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},xt={key:1,class:"bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-6"},ft={class:"flex items-center gap-3"},pt={class:"text-red-800 dark:text-red-300 font-medium"},bt={class:"text-red-600 dark:text-red-400 text-sm"},kt={key:2,class:"text-center py-16"},mt={class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2"},_t={class:"text-gray-500 dark:text-gray-400"},ht={key:3,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},wt={class:"hidden sm:grid gap-2 px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold uppercase tracking-wide sm:grid-cols-[1fr_130px_44px_100px_100px_120px_130px]"},jt=["aria-sort"],Ct=["aria-sort"],Tt=["aria-sort"],St=["aria-sort"],At=["aria-sort"],Mt={class:"text-gray-500 dark:text-gray-400"},Pt=["onClick"],Dt={class:"min-w-0"},Ut=["title"],Lt={class:"min-w-0"},$t=["onClick","title"],Et={key:1,class:"text-xs text-gray-400 dark:text-gray-500"},Ft={class:"flex justify-center"},Ot={key:1,class:"w-6 h-6 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-400 dark:text-gray-500 text-[10px]"},Vt=["value","onChange"],It=["value"],Nt={key:4,class:"flex flex-col items-center gap-2 mt-4"},zt=["disabled"],Rt={class:"text-xs text-gray-400 dark:text-gray-500"},Bt={key:1,class:"fixed inset-y-0 right-0 w-full max-w-md z-50 lg:relative lg:z-auto lg:w-96 lg:max-w-none bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 flex flex-col flex-shrink-0 overflow-hidden transition-all"},Ht={key:2,class:"fixed inset-y-0 right-0 w-full max-w-md z-50 lg:relative lg:z-auto lg:w-96 lg:max-w-none bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 flex flex-col flex-shrink-0 items-center justify-center"},Jt={class:"text-sm text-gray-500 mt-2"},ve=20,Xt=Ee({__name:"MyTasks",setup(p){const c=Be(),{loading:v,error:Z}=ce(),h=ce(),J=He(),{isOrgaManager:Q,isSystemManager:O}=Qe(),{success:w,error:S}=Je(),b=g([]),A=g(0),ee=g([]),R=g(!0),B=g(null),$=g("assigned"),ye=H(()=>Q.value||O.value),xe=H(()=>{const s=[{value:"assigned",label:a("Assigned to Me")},{value:"my_projects",label:a("My Projects")}];return ye.value&&s.push({value:"all",label:a("All Tasks")}),s}),fe=H(()=>{switch($.value){case"my_projects":return a("Tasks from projects you manage.");case"all":return a("All tasks across all projects.");default:return a("Tasks assigned to you across all projects.")}}),k=g(""),M=g(""),P=g(""),V=g(""),D=g(""),d=g("due_date"),u=g("asc"),te=localStorage.getItem("orga_mytasks_sort");if(te)try{const s=JSON.parse(te);s.field&&["subject","project","priority","status","due_date"].includes(s.field)&&(d.value=s.field),(s.dir==="asc"||s.dir==="desc")&&(u.value=s.dir)}catch(s){}const pe=[{value:"due_date",label:a("Sort: Due Date")},{value:"subject",label:a("Sort: Task")},{value:"project",label:a("Sort: Project")},{value:"priority",label:a("Sort: Priority")},{value:"status",label:a("Sort: Status")}],be={due_date:"asc",subject:"asc",project:"asc",priority:"desc",status:"asc"};function I(s){d.value===s?u.value=u.value==="asc"?"desc":"asc":(d.value=s,u.value=be[s])}const ae=g([]),E=g(0),N=g(!1),ke=[{value:"",label:a("All Active")},{value:"Open",label:a("Open")},{value:"In Progress",label:a("In Progress")},{value:"Review",label:a("Review")},{value:"Completed",label:a("Completed")},{value:"Cancelled",label:a("Cancelled")}],me=[{value:"",label:a("All Priorities")},{value:"Urgent",label:a("Urgent")},{value:"High",label:a("High")},{value:"Medium",label:a("Medium")},{value:"Low",label:a("Low")}],_e=["Open","In Progress","Review","Completed","Cancelled"],re=H(()=>E.value<A.value);let q=null;function he(s){return{Urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",High:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",Medium:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",Low:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}[s]||"bg-gray-100 text-gray-600"}function se(s){if(!s)return{text:a("No due date"),class:"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"};const t=new Date;t.setHours(0,0,0,0);const e=new Date(s);e.setHours(0,0,0,0);const y=Math.ceil((e.getTime()-t.getTime())/(1e3*60*60*24));return y<0?{text:a("{0}d overdue",[Math.abs(y)]),class:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"}:y===0?{text:a("Today"),class:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"}:y===1?{text:a("Tomorrow"),class:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400"}:y<=7?{text:a("{0} days",[y]),class:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}:{text:e.toLocaleDateString("de-DE",{month:"short",day:"numeric"}),class:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}}function U(){return C(this,null,function*(){R.value=!0,B.value=null;try{const s=k.value==="Completed"||k.value==="Cancelled",t=yield h.call("orga.orga.api.task.get_my_tasks",{status:k.value||null,priority:M.value||null,project:P.value||null,assigned_to:V.value||null,search:D.value.trim()||null,limit:ve,offset:0,include_completed:s,scope:$.value,sort_by:d.value,sort_dir:u.value});b.value=t.tasks||[],A.value=t.total||0,E.value=b.value.length}catch(s){console.error("Failed to load tasks:",s),B.value=s.message||a("Failed to load tasks")}finally{R.value=!1}})}function we(){return C(this,null,function*(){if(!(!re.value||N.value)){N.value=!0;try{const s=k.value==="Completed"||k.value==="Cancelled",t=yield h.call("orga.orga.api.task.get_my_tasks",{status:k.value||null,priority:M.value||null,project:P.value||null,assigned_to:V.value||null,search:D.value.trim()||null,limit:ve,offset:E.value,include_completed:s,scope:$.value,sort_by:d.value,sort_dir:u.value}),e=t.tasks||[];b.value=[...b.value,...e],A.value=t.total||0,E.value=b.value.length}catch(s){console.error("Failed to load more tasks:",s)}finally{N.value=!1}}})}function je(){return C(this,null,function*(){try{const s=yield J.getProjects({status:"Active",limit:200});ee.value=s.projects||[]}catch(s){}})}function Ce(){return C(this,null,function*(){try{ae.value=yield h.getAssignableUsers({limit:200})}catch(s){}})}function Te(s,t){return C(this,null,function*(){var y;const e=s.status;s.status=t;try{yield h.updateStatus(s.name,t),w(a("Status updated"),a("{0} is now {1}",[s.subject,t])),((y=f.value)==null?void 0:y.name)===s.name&&(f.value=ue(ie({},f.value),{status:t})),(t==="Completed"||t==="Cancelled")&&!k.value&&(yield U())}catch(_){s.status=e,S(a("Update failed"),_.message||a("Could not update task status"))}})}function Se(s){s.project&&c.push(`/orga/projects/${s.project}`)}const Ae=[{id:"Open",title:a("Open"),color:"column-open"},{id:"In Progress",title:a("In Progress"),color:"column-in-progress"},{id:"Review",title:a("Review"),color:"column-review"},{id:"Completed",title:a("Completed"),color:"column-completed"}],f=g(null),m=g(!1),K=g(!1);function X(s){return C(this,null,function*(){var t;if(((t=f.value)==null?void 0:t.name)===s.name){m.value=!0;return}K.value=!0,m.value=!0;try{const e=yield h.getTask(s.name);f.value=e}catch(e){console.error("Failed to load task details:",e),S(a("Load failed"),e.message||a("Could not load task details")),m.value=!1}finally{K.value=!1}})}function oe(){return C(this,null,function*(){if(f.value)try{const s=yield h.getTask(f.value.name);f.value=s}catch(s){f.value=null,m.value=!1}yield U()})}function Me(s,t){return C(this,null,function*(){try{yield h.updateStatus(s.name,t),w(a("Status updated"),a("{0} is now {1}",[s.subject,t])),yield oe()}catch(e){S(a("Update failed"),e.message||a("Could not update task status"))}})}function le(s){const t=s.target.tagName;if(t==="INPUT"||t==="SELECT"||t==="TEXTAREA"||s.target.isContentEditable)return;if(s.key==="Escape"&&m.value){m.value=!1;return}if(!m.value||!f.value||b.value.length===0)return;const e=b.value.findIndex(y=>{var _;return y.name===((_=f.value)==null?void 0:_.name)});e!==-1&&((s.key==="j"||s.key==="ArrowDown")&&e<b.value.length-1?(s.preventDefault(),X(b.value[e+1])):(s.key==="k"||s.key==="ArrowUp")&&e>0&&(s.preventDefault(),X(b.value[e-1])))}return Y([$,k,M,P,V],()=>{U()}),Y([d,u],()=>{localStorage.setItem("orga_mytasks_sort",JSON.stringify({field:d.value,dir:u.value})),U()}),Y(D,()=>{q&&clearTimeout(q),q=setTimeout(()=>{U()},300)}),Fe(()=>{U(),je(),Ce(),document.addEventListener("keydown",le)}),Oe(()=>{document.removeEventListener("keydown",le)}),(s,t)=>(l(),n("div",Ke,[r("div",Xe,[r("div",Ye,[r("h1",Ge,o(i(a)("My Tasks")),1),r("p",We,o(fe.value),1)]),r("div",Ze,[(l(!0),n(j,null,T(xe.value,e=>(l(),n("button",{key:e.value,onClick:y=>$.value=e.value,class:x(["px-3 py-1.5 text-sm font-medium rounded-md transition-colors",$.value===e.value?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},o(e.label),11,et))),128))]),r("div",tt,[F(r("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20"},[(l(),n(j,null,T(ke,e=>r("option",{key:e.value,value:e.value},o(e.label),9,at)),64))],512),[[z,k.value]]),F(r("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20"},[(l(),n(j,null,T(me,e=>r("option",{key:e.value,value:e.value},o(e.label),9,rt)),64))],512),[[z,M.value]]),F(r("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>P.value=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20"},[r("option",st,o(i(a)("All Projects")),1),(l(!0),n(j,null,T(ee.value,e=>(l(),n("option",{key:e.name,value:e.name},o(e.project_name),9,ot))),128))],512),[[z,P.value]]),F(r("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>V.value=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20"},[r("option",lt,o(i(a)("All Assignees")),1),(l(!0),n(j,null,T(ae.value,e=>(l(),n("option",{key:e.name,value:e.name},o(e.full_name||e.name),9,nt))),128))],512),[[z,V.value]]),r("div",dt,[t[15]||(t[15]=r("i",{class:"fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"},null,-1)),F(r("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>D.value=e),type:"text",placeholder:i(a)("Search tasks..."),class:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20 placeholder-gray-400 dark:placeholder-gray-500"},null,8,it),[[Ve,D.value]])]),F(r("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20"},[(l(),n(j,null,T(pe,e=>r("option",{key:e.value,value:e.value},o(e.label),9,ut)),64))],512),[[z,d.value]]),r("button",{onClick:t[6]||(t[6]=e=>u.value=u.value==="asc"?"desc":"asc"),title:u.value==="asc"?i(a)("Ascending — click to reverse"):i(a)("Descending — click to reverse"),class:"px-2.5 py-2 text-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20 transition-colors"},[r("i",{class:x(u.value==="asc"?"fa-solid fa-arrow-up-short-wide":"fa-solid fa-arrow-down-wide-short")},null,2)],8,gt),r("span",ct,o(A.value)+" task"+o(A.value!==1?"s":""),1)]),R.value?(l(),n("div",vt,[r("div",yt,[G(Ie,{type:"card",count:5})])])):B.value?(l(),n("div",xt,[r("div",ft,[t[16]||(t[16]=r("i",{class:"fa-solid fa-exclamation-triangle text-red-500 text-xl"},null,-1)),r("div",null,[r("h3",pt,o(i(a)("Error loading tasks")),1),r("p",bt,o(B.value),1)])]),r("button",{onClick:U,class:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-900/50"},o(i(a)("Try Again")),1)])):b.value.length===0?(l(),n("div",kt,[t[17]||(t[17]=r("i",{class:"fa-solid fa-circle-check text-5xl text-gray-300 dark:text-gray-600 mb-4 block"},null,-1)),r("h3",mt,o(k.value||M.value||P.value||D.value?i(a)("No matching tasks"):i(a)("All caught up!")),1),r("p",_t,o(k.value||M.value||P.value||D.value?i(a)("Try adjusting your filters."):i(a)("You have no tasks assigned to you right now.")),1)])):(l(),n("div",ht,[r("div",wt,[r("button",{onClick:t[7]||(t[7]=e=>I("subject")),"aria-sort":d.value==="subject"?u.value==="asc"?"ascending":"descending":"none",class:x(["flex items-center gap-1 text-left",d.value==="subject"?"text-orga-600 dark:text-orga-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[L(o(i(a)("Task"))+" ",1),r("i",{class:x([d.value==="subject"?u.value==="asc"?"fa-solid fa-sort-up":"fa-solid fa-sort-down":"fa-solid fa-sort opacity-40","text-[10px]"])},null,2)],10,jt),r("button",{onClick:t[8]||(t[8]=e=>I("project")),"aria-sort":d.value==="project"?u.value==="asc"?"ascending":"descending":"none",class:x(["flex items-center gap-1 text-left",d.value==="project"?"text-orga-600 dark:text-orga-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[L(o(i(a)("Project"))+" ",1),r("i",{class:x([d.value==="project"?u.value==="asc"?"fa-solid fa-sort-up":"fa-solid fa-sort-down":"fa-solid fa-sort opacity-40","text-[10px]"])},null,2)],10,Ct),t[18]||(t[18]=r("span",null,null,-1)),r("button",{onClick:t[9]||(t[9]=e=>I("priority")),"aria-sort":d.value==="priority"?u.value==="asc"?"ascending":"descending":"none",class:x(["flex items-center gap-1 text-left",d.value==="priority"?"text-orga-600 dark:text-orga-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[L(o(i(a)("Priority"))+" ",1),r("i",{class:x([d.value==="priority"?u.value==="asc"?"fa-solid fa-sort-up":"fa-solid fa-sort-down":"fa-solid fa-sort opacity-40","text-[10px]"])},null,2)],10,Tt),r("button",{onClick:t[10]||(t[10]=e=>I("status")),"aria-sort":d.value==="status"?u.value==="asc"?"ascending":"descending":"none",class:x(["flex items-center gap-1 text-left",d.value==="status"?"text-orga-600 dark:text-orga-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[L(o(i(a)("Status"))+" ",1),r("i",{class:x([d.value==="status"?u.value==="asc"?"fa-solid fa-sort-up":"fa-solid fa-sort-down":"fa-solid fa-sort opacity-40","text-[10px]"])},null,2)],10,St),r("button",{onClick:t[11]||(t[11]=e=>I("due_date")),"aria-sort":d.value==="due_date"?u.value==="asc"?"ascending":"descending":"none",class:x(["flex items-center gap-1 text-left",d.value==="due_date"?"text-orga-600 dark:text-orga-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[L(o(i(a)("Due Date"))+" ",1),r("i",{class:x([d.value==="due_date"?u.value==="asc"?"fa-solid fa-sort-up":"fa-solid fa-sort-down":"fa-solid fa-sort opacity-40","text-[10px]"])},null,2)],10,At),r("span",Mt,o(i(a)("Quick Action")),1)]),(l(!0),n(j,null,T(b.value,e=>{var y;return l(),n("div",{key:e.name,onClick:_=>X(e),class:x(["grid grid-cols-1 gap-2 px-4 py-3 border-b border-gray-100 dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors items-center cursor-pointer",((y=f.value)==null?void 0:y.name)===e.name?"bg-orga-50 dark:bg-orga-900/20 ring-1 ring-inset ring-orga-200 dark:ring-orga-800":"","sm:grid-cols-[1fr_130px_44px_100px_100px_120px_130px]"])},[r("div",Dt,[r("span",{class:"text-sm font-medium text-gray-800 dark:text-gray-200 hover:text-orga-500 dark:hover:text-orga-400 truncate block text-left w-full transition-colors",title:e.subject},o(e.subject),9,Ut)]),r("div",Lt,[e.project?(l(),n("button",{key:0,onClick:ge(_=>Se(e),["stop"]),class:"text-xs text-gray-500 dark:text-gray-400 hover:text-orga-500 truncate block text-left w-full transition-colors",title:e.project_name||e.project},o(e.project_name||e.project),9,$t)):(l(),n("span",Et,"—"))]),r("div",Ft,[e.assigned_to_name?(l(),Ne(ze,{key:0,name:e.assigned_to_name,image:e.assigned_to_image,size:"xs",color:"orga",class:"!w-6 !h-6 !text-[10px]",title:e.assigned_to_name},null,8,["name","image","title"])):(l(),n("span",Ot,[...t[19]||(t[19]=[r("i",{class:"fa-solid fa-user"},null,-1)])]))]),r("div",null,[r("span",{class:x(["text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap",he(e.priority)])},o(e.priority),3)]),r("div",null,[G(Re,{status:e.status,type:"task",size:"sm"},null,8,["status"])]),r("div",null,[r("span",{class:x(["text-xs px-2 py-1 rounded whitespace-nowrap",se(e.due_date).class])},o(se(e.due_date).text),3)]),r("div",{onClick:t[12]||(t[12]=ge(()=>{},["stop"]))},[r("select",{value:e.status,onChange:_=>Te(e,_.target.value),class:"text-xs px-2 py-1.5 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md focus:border-orga-500 focus:outline-none focus:ring-1 focus:ring-orga-500/20 w-full"},[(l(),n(j,null,T(_e,_=>r("option",{key:_,value:_},o(_),9,It)),64))],40,Vt)])],10,Pt)}),128))])),re.value&&!R.value?(l(),n("div",Nt,[r("button",{onClick:we,disabled:N.value,class:"px-5 py-2 text-sm font-medium border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[N.value?(l(),n(j,{key:0},[t[20]||(t[20]=r("i",{class:"fa-solid fa-spinner fa-spin mr-1.5"},null,-1)),L(" "+o(i(a)("Loading...")),1)],64)):(l(),n(j,{key:1},[L(o(i(a)("Load More"))+" ("+o(i(a)("{0} remaining",[A.value-E.value]))+") ",1)],64))],8,zt),r("span",Rt,o(i(a)("Showing {0} of {1}",[E.value,A.value])),1)])):W("",!0)]),m.value?(l(),n("div",{key:0,class:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t[13]||(t[13]=e=>m.value=!1)})):W("",!0),m.value&&f.value?(l(),n("aside",Bt,[G(qe,{task:f.value,columns:Ae,"view-type":"list",onUpdate:oe,onClose:t[14]||(t[14]=e=>m.value=!1),onStatusChange:Me},null,8,["task"])])):m.value&&K.value?(l(),n("aside",Ht,[t[21]||(t[21]=r("i",{class:"fa-solid fa-spinner fa-spin text-2xl text-gray-400"},null,-1)),r("p",Jt,o(i(a)("Loading task...")),1)])):W("",!0)]))}});export{Xt as default};
